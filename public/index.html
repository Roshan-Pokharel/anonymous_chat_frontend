<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>Anonymous ChatBot</title>
    <!-- Use your existing full style here — unchanged -->
    <!-- Assuming your current <style> section contains all styling including dark mode -->
    <!-- At the end of <head>: -->
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <script defer src="script.js"></script>
  </head>
  <body>
    <!-- Modals -->
    <div id="userModal" class="modal">
      <form id="userForm" class="modal-content">
        <h2 style="margin-bottom: 18px; color: #4f46e5; text-align: center">
          👤 Welcome! Set your profile
        </h2>
        <input type="text" id="nicknameInput" placeholder="Nickname" required />
        <input
          type="number"
          id="ageInput"
          placeholder="Age"
          min="18"
          max="99"
          required
        />
        <div class="gender-group">
          <label
            ><input type="radio" name="gender" value="male" checked />
            <span style="color: #3b82f6; font-weight: 600">♂ Male</span></label
          >
          <label
            ><input type="radio" name="gender" value="female" />
            <span style="color: #e75480; font-weight: 600"
              >♀ Female</span
            ></label
          >
        </div>
        <button type="submit">Start Chatting 🚀</button>
      </form>
    </div>

    <div id="allUsersModal" class="modal" style="display: none">
      <div class="modal-content" style="max-height: 70vh; overflow-y: auto">
        <h3 style="margin-bottom: 12px; color: #4f46e5; text-align: center">
          Online Users
        </h3>
        <div id="allUsersList"></div>
        <button
          onclick="document.getElementById('allUsersModal').style.display='none';"
          style="margin-top: 16px"
        >
          Close
        </button>
      </div>
    </div>

    <!-- Main UI -->
    <div id="topBar">
      <span id="roomTitle">🌐 Public Chat</span>
      <div class="top-bar-buttons">
        <button id="theme-toggle" title="Toggle dark mode">🌙</button>
        <button id="showUsersBtn">👥 Users</button>
      </div>
    </div>

    <div class="container">
      <div id="sidebar">
        <h3 style="margin-bottom: 12px">👥 Users</h3>
        <div id="userList"></div>
      </div>
      <div id="chat">
        <div id="messages"></div>
        <form id="form" autocomplete="off">
          <input
            id="input"
            type="text"
            placeholder="Type your message..."
            autocomplete="off"
          />
          <button type="submit">Send</button>
        </form>
      </div>
    </div>
  </body>
</html>
